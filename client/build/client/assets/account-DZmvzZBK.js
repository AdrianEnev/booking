import{w as C}from"./with-props-6HJavTuU.js";import{p as E,a as t,o as e}from"./chunk-AYJ5UCUI-Bkv6Ioix.js";import{F as d}from"./firebaseConfig-p6xtbjLt.js";import{u as S}from"./GlobalContext-DI10b9EF.js";import{F as k,e as A}from"./index.es-CR6kZwbW.js";const U=async(j,n,x)=>{console.log("Changing username")},I=async()=>{},$=C(function(){var f;const n=E(),[x,m]=t.useState("..."),[F,P]=t.useState(""),[w,b]=t.useState(!1),[s,r]=t.useState(!1),[u,y]=t.useState(""),[o,c]=t.useState("..."),{loading:a,setLoading:l,setIsAdmin:N,isAdmin:p}=S();t.useEffect(()=>{if(!p){n("/");return}const i=d.onAuthStateChanged(h=>{if(h){m(h.email||"...");const g=localStorage.getItem("username");c(g||"..."),y(g||"..."),b(!0)}else m("...")});return()=>i()},[p,n]);const v=async()=>{l(!1),N(!1)};return e.jsxs("div",{className:"w-full h-full font-rubik py-12 px-[11%]",children:[e.jsx("p",{className:"text-3xl text-black mt-5 font-semibold",children:"Акаунт"}),e.jsxs("div",{className:"flex flex-row justify-between pr-4",children:[e.jsx("p",{className:"text-lg font-medium mt-4",children:"Потребител"}),s&&!a?e.jsxs("div",{className:"flex flex-row gap-x-3",children:[e.jsx("button",{className:`w-[70px] h-8 border border-gray-200 
                            shadow-md rounded-lg flex flex-row items-center justify-center 
                            gap-x-2 active:opacity-60`,onClick:()=>{r(!s),c(u)},children:e.jsx("p",{children:"Отказ"})}),e.jsx("button",{className:`w-[70px] h-8 bg-red-400 text-white 
                            shadow-md rounded-lg flex items-center justify-center 
                            gap-x-2 active:opacity-60 
                            ${o===localStorage.getItem("username")?"opacity-60":"opacity-100"}`,onClick:async()=>{o!==u&&(l(!0),await U(),r(!1),l(!1))},children:e.jsx("p",{children:"Запази"})})]}):!s&&!a?e.jsxs("button",{className:`w-[120px] h-8 border border-gray-200 
                            shadow-md rounded-lg flex flex-row items-center justify-center 
                            gap-x-2 active:opacity-60`,onClick:()=>{r(!s)},children:[e.jsx("p",{children:"Промени"}),e.jsx(k,{icon:A,className:"text-black mt-[-1px]"})]}):null]}),e.jsx("div",{className:"w-full h-[2px] bg-gray-100 rounded-full mt-2"}),e.jsxs("div",{className:"flex flex-row gap-x-16 mt-6",children:[e.jsx("div",{children:!a&&e.jsxs("div",{className:"flex flex-col gap-y-6",children:[e.jsx("p",{children:"Имейл"}),e.jsx("p",{children:"Парола"})]})}),s&&!a?e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx("p",{children:x}),e.jsx("input",{type:"text",maxLength:16,defaultValue:o||"",className:"border border-gray-300 rounded-md w-64 h-8 px-2",onChange:i=>{c(i.target.value)}}),e.jsx("button",{className:`w-[160px] h-8 border border-gray-200 
                            shadow-md rounded-lg flex flex-row items-center justify-center 
                            gap-x-2 active:opacity-60`,onClick:()=>{I()},children:e.jsx("p",{children:"Готово"})})]}):!s&&!a?e.jsxs("div",{className:"flex flex-col gap-y-6",children:[e.jsx("p",{children:((f=d.currentUser)==null?void 0:f.email)||"..."}),e.jsx("p",{children:"*******"})]}):e.jsx("div",{children:e.jsx("p",{className:"text-xl font-medium",children:"1 Секунда..."})})]}),e.jsx("div",{className:"mt-12",children:e.jsx("button",{onClick:async()=>{w&&(l(!0),d.signOut(),await v(),n("/"))},children:e.jsx("p",{className:"text-xl p-5 bg-red-400 rounded-xl text-white font-bold mt-3 shadow-md hover:opacity-70",children:"Изход"})})})]})});export{$ as default};
