import{w as v}from"./with-props-6HJavTuU.js";import{p as C,a as t,o as e}from"./chunk-AYJ5UCUI-Bkv6Ioix.js";import{F as i}from"./firebaseConfig-p6xtbjLt.js";import{u as E}from"./GlobalContext-DI10b9EF.js";import{F as S,e as k}from"./index.es-CR6kZwbW.js";const U=async(g,d,x)=>{console.log("Changing username")},A=async()=>{},R=v(function(){var p;const d=C(),[x,m]=t.useState("..."),[I,F]=t.useState(""),[j,w]=t.useState(!1),[s,l]=t.useState(!1),[u,b]=t.useState(""),[r,o]=t.useState("..."),{loading:a,setLoading:n,setIsAdmin:y}=E();t.useEffect(()=>{const c=i.onAuthStateChanged(f=>{if(f){m(f.email||"...");const h=localStorage.getItem("username");o(h||"..."),b(h||"..."),w(!0)}else m("...")});return()=>c()},[]);const N=async()=>{n(!1),y(!1)};return e.jsxs("div",{className:"w-full h-full font-rubik py-12 px-[11%]",children:[e.jsx("p",{className:"text-3xl text-black mt-5 font-semibold",children:"Акаунт"}),e.jsxs("div",{className:"flex flex-row justify-between pr-4",children:[e.jsx("p",{className:"text-lg font-medium mt-4",children:"Потребител"}),s&&!a?e.jsxs("div",{className:"flex flex-row gap-x-3",children:[e.jsx("button",{className:`w-[70px] h-8 border border-gray-200 
                            shadow-md rounded-lg flex flex-row items-center justify-center 
                            gap-x-2 active:opacity-60`,onClick:()=>{l(!s),o(u)},children:e.jsx("p",{children:"Отказ"})}),e.jsx("button",{className:`w-[70px] h-8 bg-red-400 text-white 
                            shadow-md rounded-lg flex items-center justify-center 
                            gap-x-2 active:opacity-60 
                            ${r===localStorage.getItem("username")?"opacity-60":"opacity-100"}`,onClick:async()=>{r!==u&&(n(!0),await U(),l(!1),n(!1))},children:e.jsx("p",{children:"Запази"})})]}):!s&&!a?e.jsxs("button",{className:`w-[120px] h-8 border border-gray-200 
                            shadow-md rounded-lg flex flex-row items-center justify-center 
                            gap-x-2 active:opacity-60`,onClick:()=>{l(!s)},children:[e.jsx("p",{children:"Промени"}),e.jsx(S,{icon:k,className:"text-black mt-[-1px]"})]}):null]}),e.jsx("div",{className:"w-full h-[2px] bg-gray-100 rounded-full mt-2"}),e.jsxs("div",{className:"flex flex-row gap-x-16 mt-6",children:[e.jsx("div",{children:!a&&e.jsxs("div",{className:"flex flex-col gap-y-6",children:[e.jsx("p",{children:"Имейл"}),e.jsx("p",{children:"Парола"})]})}),s&&!a?e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx("p",{children:x}),e.jsx("input",{type:"text",maxLength:16,defaultValue:r||"",className:"border border-gray-300 rounded-md w-64 h-8 px-2",onChange:c=>{o(c.target.value)}}),e.jsx("button",{className:`w-[160px] h-8 border border-gray-200 
                            shadow-md rounded-lg flex flex-row items-center justify-center 
                            gap-x-2 active:opacity-60`,onClick:()=>{A()},children:e.jsx("p",{children:"Готово"})})]}):!s&&!a?e.jsxs("div",{className:"flex flex-col gap-y-6",children:[e.jsx("p",{children:((p=i.currentUser)==null?void 0:p.email)||"..."}),e.jsx("p",{children:"*******"})]}):e.jsx("div",{children:e.jsx("p",{className:"text-xl font-medium",children:"1 Секунда..."})})]}),e.jsx("div",{className:"mt-12",children:e.jsx("button",{onClick:async()=>{j&&(n(!0),i.signOut(),await N(),d("/"))},children:e.jsx("p",{className:"text-xl p-5 bg-red-400 rounded-xl text-white font-bold mt-3 shadow-md hover:opacity-70",children:"Изход"})})})]})});export{R as default};
