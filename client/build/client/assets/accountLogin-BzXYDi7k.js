import{w as g}from"./with-props-Bh_-DjLQ.js";import{p as y,a as d,o as e}from"./chunk-AYJ5UCUI-DsV8cjzK.js";import{u as j}from"./GlobalContext-BODhfs1P.js";import{F as u,s as b}from"./firebaseConfig-p6xtbjLt.js";const w=async t=>{const o=t.uid;try{const s=await fetch(`https://booking-app.fly.dev/api/user/${o}`,{method:"GET"});return s.ok?await s.json():(console.error("Response error:",s),null)}catch(s){return console.error("Error:",s),null}},N=()=>{const t=y(),[o,s]=d.useState(""),[n,m]=d.useState(""),{loading:v,setLoading:r}=j(),x=(a,h)=>{var i;if((i=u.currentUser)==null?void 0:i.uid){console.log("User already logged in");return}r(!0),b(u,a,h).then(async l=>{const p=l.user;r(!0);const c=await w(p);if(c&&c.isAdmin){t("/admin/dashboard"),r(!1);return}t("/"),r(!1)}).catch(l=>{console.log(l),r(!1)})},f=()=>{if(n===""||o===""){alert("Please fill in all fields");return}x(n,o)};return e.jsx("div",{className:"w-full h-full font-rubik",children:e.jsx("div",{className:"flex flex-col items-center justify-center mt-[5%]",children:e.jsxs("div",{className:"w-[40%] h-96 bg-white rounded-xl shadow-md border border-gray-100 px-14 py-12",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("p",{className:"text-2xl text-gray-800 font-medium",children:"Вход в акаунт"})}),e.jsxs("div",{className:"flex w-full h-full flex-col mt-3",children:[e.jsx("p",{className:"text-xl text-gray-600 my-2",children:"Имейл"}),e.jsx("input",{type:"text",onChange:a=>m(a.target.value),placeholder:"примеренимейл@gmail.com",className:"border border-gray-300 p-2 rounded-md"}),e.jsx("p",{className:"text-xl text-gray-600 my-2",children:"Парола"}),e.jsx("input",{type:"text",onChange:a=>s(a.target.value),placeholder:"Парола123",className:"border border-gray-300 p-2 rounded-md"}),e.jsx("button",{className:"w-full h-12 bg-[#4a6fa5] mt-3 rounded-xl active:opacity-60",onClick:f,children:e.jsx("p",{className:"text-xl font-medium text-white",children:"Вход"})}),e.jsx("button",{className:"flex justify-start",onClick:()=>{t("/register")},children:e.jsx("p",{className:"text-base font-medium text-gray-500 underline",children:"Регистрирай се"})})]})]})})})},I=g(N);export{I as default};
